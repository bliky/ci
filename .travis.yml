language: node_js
node_js:
- '8'
branches:
  only:
  - master
git:
  depth: 3
  quiet: true
  submodules: false
before_install:
- openssl aes-256-cbc -K $encrypted_0407e22da2cb_key -iv $encrypted_0407e22da2cb_iv
  -in lzgx.pem.enc -out ~/.ssh/lzgx.pem -d
- chmod 600 ~/.ssh/lzgx.pem
- echo 'do some before_install'
install:
- echo 'do some install'
before_script:
- echo 'do some before_script'
script:
- echo 'do some script'
before_deploy:
- echo 'do some before_deploy'
after_deploy:
- echo 'do some after_deploy'
after_success:
- ssh -i ~/.ssh/lzgx.pem root@47.106.128.182 "./deploy"
addons:
  ssh_known_hosts: 47.106.128.182
